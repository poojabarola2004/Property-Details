<!DOCTYPE html>
<html>
<head>
  <title>Your Property Recommendations</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f6fa;
      margin: 40px;
      line-height: 1.6;
      color: #333;
    }

    .section {
      margin-bottom: 40px;
    }

    .section h2 {
      font-size: 1.5rem;
      color: #1e1e1e;
      margin-bottom: 20px;
      border-bottom: 2px solid #e0e0e0;
      padding-bottom: 10px;
    }

    .property-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .property-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .property-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }

    .property-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
    }

    .property-content {
      padding: 16px;
    }

    .property-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 6px 0;
      color: #1a1a1a;
    }

    .property-location {
      color: #777;
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    .property-price {
      color: #008000;
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    .property-info {
      display: flex;
      justify-content: space-between;
      border-top: 1px solid #e0e0e0;
      border-bottom: 1px solid #e0e0e0;
      padding: 10px 0;
      font-size: 0.9rem;
    }
    
    .property-info > div {
        flex-basis: 48%; /* To ensure good spacing for two items */
    }

    .info-label {
      color: #777;
      font-size: 0.8rem;
      margin-bottom: 4px;
    }

    .section-title {
      font-weight: 600;
      color: #333;
      margin: 12px 0 6px;
      font-size: 0.95rem;
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .tag {
      background-color: #e8f1ff;
      color: #246bfd;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      white-space: nowrap; /* Prevent tags from breaking */
    }

    .nearby-tag {
      background-color: #e6f7ed;
      color: #2b8a3e;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      white-space: nowrap; /* Prevent tags from breaking */
    }

    .emi {
      font-size: 0.9rem;
      margin-top: 10px;
      color: #555;
    }

    .emi span {
      color: #e63946;
      font-weight: 600;
    }

    .emi a {
      color: #246bfd;
      text-decoration: none;
      font-weight: 500;
    }
    .emi a:hover {
      text-decoration: underline;
    }

    .view-btn {
      display: block;
      background-color: #007bff;
      color: #fff;
      text-align: center;
      padding: 10px;
      margin-top: 12px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.2s ease;
    }

    .view-btn:hover {
      background-color: #0056cc;
    }

    @media (max-width: 768px) {
      body {
        margin: 20px;
      }
      .property-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <div class="section">
    <h2>üè† Under-Budget Properties</h2>
    <div class="property-grid">
      <!-- Under-Budget Property 1 -->
      <div class="property-card">
        <img src="https://via.placeholder.com/400x250" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 BHK Flat in Alpha 1, Greater Noida</h2>
          <p class="property-location">üìç Gharonda apartments Alpha 1 Greater Noida</p>
          <div class="property-price">‚Çπ98 Lac</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>1000 sq.ft. (93 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (2 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Super Built-up Area</span>
            <span class="tag">North-East Facing</span>
            <span class="tag">Top Floor</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">No specific nearby places listed</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">HDFC Bank</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-apartment-flat-for-sale-in-gharonda-apartments-alpha-1-greater-noida-1000-sq-ft-spid-E85523950" class="view-btn">Visit Property</a>
        </div>
      </div>

      <!-- Under-Budget Property 2 -->
      <div class="property-card">
        <img src="https://via.placeholder.com/400x250" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 BHK Flat in Alpha 1, Greater Noida</h2>
          <p class="property-location">üìç Gharonda apartments Alpha 1 Greater Noida</p>
          <div class="property-price">‚Çπ1.1 Cr</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>1000 sq.ft. (93 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (2 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Super Built-up Area</span>
            <span class="tag">North East Facing</span>
            <span class="tag">Top Floor</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">No specific nearby places listed</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">ICICI Bank</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-apartment-flat-for-sale-in-gharonda-apartments-alpha-1-greater-noida-1000-sq-ft-spid-E85523950" class="view-btn">Visit Property</a>
        </div>
      </div>
      
      <!-- Under-Budget Property 3 -->
      <div class="property-card">
        <img src="https://via.placeholder.com/400x250" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 BHK Flat in Alpha 1, Greater Noida</h2>
          <p class="property-location">üìç Spacetech Edana Alpha 1, Greater Noida</p>
          <div class="property-price">‚Çπ1.4 Cr</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>1715 sq.ft. (159 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (3 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Super Built-up Area</span>
            <span class="tag">North-East Facing</span>
            <span class="tag">Private Garden</span>
            <span class="tag">Rooftop swimming pool</span>
            <span class="tag">health spa</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">No specific nearby places listed</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">SBI</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-apartment-flat-for-sale-in-spacetech-edana-alpha-1-greater-noida-1715-sq-ft-r7-spid-V72642921" class="view-btn">Visit Property</a>
        </div>
      </div>

      <!-- Under-Budget Property 4 -->
      <div class="property-card">
        <img src="https://imagecdn.99acres.com/media1/31681/5/634110951M-1755332734495.webp" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 Bedroom House in Alpha 1, Greater Noida</h2>
          <p class="property-location">üìç null Alpha 1 Greater Noida</p>
          <div class="property-price">‚Çπ1.45 Cr</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>645 sq.ft. (60 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (3 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Plot Area</span>
            <span class="tag">Private Garden</span>
            <span class="tag">Gated Society</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">No specific nearby places listed</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">Axis Bank</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-independent-house-villa-for-sale-in-alpha-1-greater-noida-645-sq-ft-spid-C83346740" class="view-btn">Visit Property</a>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>üåü Recommended Properties</h2>
    <div class="property-grid">
      <!-- Recommended Property 1 -->
      <div class="property-card">
        <img src="https://via.placeholder.com/400x250" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 Bedroom House in Block D Alpha 1, Greater Noida</h2>
          <p class="property-location">üìç null Block D Alpha 1</p>
          <div class="property-price">‚Çπ2.95 Cr</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>1614 sq.ft. (150 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (3 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Plot Area</span>
            <span class="tag">North Facing</span>
            <span class="tag">Alpha-1 metro Station Nearby</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">Close to metro station</span>
            <span class="nearby-tag">Close to hospital</span>
            <span class="nearby-tag">Close to highway</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">Kotak Mahindra Bank</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-independent-house-villa-for-sale-in-block-d-alpha-1-greater-noida-1615-sq-ft-r1-spid-P84277218" class="view-btn">Visit Property</a>
        </div>
      </div>

      <!-- Recommended Property 2 -->
      <div class="property-card">
        <img src="https://imagecdn.99acres.com/media1/31936/7/638718827M-1756187772911.webp" alt="Property Image" class="property-image" />
        <div class="property-content">
          <h2 class="property-title">3 Bedroom House in Alpha 2, Greater Noida</h2>
          <p class="property-location">üìç null Alpha 2 Greater Noida</p>
          <div class="property-price">‚Çπ3.1 Cr</div>
          <div class="property-info">
            <div>
              <div class="info-label">Area</div>
              <div>1291 sq.ft. (120 sqm)</div>
            </div>
            <div>
              <div class="info-label">Config</div>
              <div>3 BHK (3 Baths)</div>
            </div>
          </div>
          <div class="property-info" style="border-top:none;">
            <div>
              <div class="info-label">Furnishing</div>
              <div>Semi-Furnished</div>
            </div>
            <div>
              <div class="info-label">Available</div>
              <div>Ready To Move</div>
            </div>
          </div>
          <div class="section-title">Key Features:</div>
          <div class="tags">
            <span class="tag">Plot Area</span>
            <span class="tag">Metro Nearby</span>
            <span class="tag">Gated Society</span>
            <span class="tag">North West Facing</span>
          </div>
          <div class="section-title">Nearby Places:</div>
          <div class="tags">
            <span class="nearby-tag">Opposite to Greater Noida Authority</span>
            <span class="nearby-tag">Shopping complex</span>
            <span class="nearby-tag">School</span>
            <span class="nearby-tag">Hospital already operational</span>
          </div>
          <div class="emi" data-type="buy">
            EMI from: <span>‚Çπ0/month</span><br>
            (via <a href="#">HDFC Bank</a>)
          </div>
          <a href="https://www.99acres.com/3-bhk-bedroom-independent-house-villa-for-sale-in-alpha-2-greater-noida-1291-sq-ft-spid-K84282340" class="view-btn">Visit Property</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    const bankNames = ["HDFC Bank", "ICICI Bank", "SBI", "Axis Bank", "Kotak Mahindra Bank", "Punjab National Bank"];

    document.querySelectorAll('.emi[data-type="buy"]').forEach(emiBlock => {
      const priceText = emiBlock.closest('.property-card')
        .querySelector('.property-price').innerText;
      
      let P;
      const priceMatchCr = priceText.match(/‚Çπ([\d.]+) Cr/);
      const priceMatchLac = priceText.match(/‚Çπ([\d.]+) Lac/);

      if (priceMatchCr) {
        P = parseFloat(priceMatchCr[1]) * 10000000; // Convert Crores to Rupees
      } else if (priceMatchLac) {
        P = parseFloat(priceMatchLac[1]) * 100000; // Convert Lakhs to Rupees
      } else {
        P = parseFloat(priceText.replace(/[‚Çπ,]/g, '').trim()); // Assume raw number
      }

      if (P > 0) {
        const R = 8.5 / 12 / 100; // Monthly rate for 8.5% annual
        const N = 240; // 20 years in months
        const emi = (P * R * Math.pow(1 + R, N)) / (Math.pow(1 + R, N) - 1);
        const rounded = Math.round(emi / 100) * 100;
        emiBlock.querySelector('span').textContent = `‚Çπ${rounded.toLocaleString('en-IN')}/month`;
      } else {
        emiBlock.querySelector('span').textContent = `N/A`; // Handle cases where price might be 0 or unparseable
      }

      // Assign a random bank name
      const randomBank = bankNames[Math.floor(Math.random() * bankNames.length)];
      emiBlock.querySelector('a').textContent = randomBank;
    });

    // Fallback image handling
    document.querySelectorAll('.property-image').forEach(img => {
        if (img.src.includes('noImageBg.svg') || img.src.includes('noImageBgPremium.svg') || img.src === '') {
            img.src = 'https://via.placeholder.com/400x250';
        }
    });

  </script>
</body>
</html>